(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(56)},39:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(0),r=a.n(l),o=a(25),c=a.n(o),s=a(27),i=(a(39),a(17)),u=a(26),d=a.n(u),h=function(e){var t=e.rec;e.key;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date.substring(0,10)),r.a.createElement("td",null,t.newcountconfirmed||"none"),r.a.createElement("td",null,t.newcountdeaths||"none"),r.a.createElement("td",null,~~t.totalcountconfirmed||"none"),r.a.createElement("td",null,~~t.totalcountdeaths||"none"))},m=function(e){var t=e.rec,a=(e.key,0);return t.hospitalized_covid_confirmed_patients&&(a+=t.hospitalized_covid_confirmed_patients),t.hospitalized_covid_suspected_patients&&(a+=t.hospitalized_covid_suspected_patients),r.a.createElement("tr",null,r.a.createElement("td",null,t.todays_date.substring(0,10)),r.a.createElement("td",null,parseInt(t.hospitalized_covid_confirmed_patients)||"none"),r.a.createElement("td",null,parseInt(t.hospitalized_covid_suspected_patients)||"none"),r.a.createElement("td",null,parseInt(a)),r.a.createElement("td",null,parseInt(t.all_hospital_beds)||"none"),r.a.createElement("td",null,parseInt(t.icu_covid_confirmed_patients)||"none"),r.a.createElement("td",null,parseInt(t.icu_covid_suspected_patients)||"none"),r.a.createElement("td",null,parseInt(t.icu_available_beds)||"none"))},p=function(e){var t=e.rec;e.key;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date.substring(0,10)),r.a.createElement("td",null,t.rooms||"none"),r.a.createElement("td",null,t.rooms_occupied||"none"),r.a.createElement("td",null,t.trailers_requested||"none"),r.a.createElement("td",null,t.trailers_delivered||"none"),r.a.createElement("td",null,t.donated_trailers_delivered||"none"))},E=function(e){var t=e.rec;e.key;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date.substring(0,10)),r.a.createElement("td",null,t.type_of_facility),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.beds_ready_to_accept_patients||"none"),r.a.createElement("td",null,t.patients_in_beds||"none"),r.a.createElement("td",null,t.beds_in_warm_status||"none"))},f=function(e){var t=e.name,a=e.rec,n=e.key;return"cases"===t?r.a.createElement(h,{rec:a,key:n}):"hospitalizations"===t?r.a.createElement(m,{rec:a,key:n}):"homeless"===t?r.a.createElement(p,{rec:a,key:n}):"surgeFac"===t?r.a.createElement(E,{rec:a,key:n}):void 0},b=function(e){var t=e.chart,a=e.countyInfo;if(null===a)return r.a.createElement("p",null,"no county");var n=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"countyInfo"},r.a.createElement("h4",null,a.county),r.a.createElement("div",{className:"countyTableWrap"},r.a.createElement("table",null,d()(t.thead),r.a.createElement("tbody",null,a.records.map(function(e){return n++,r.a.createElement(f,{name:t.name,rec:e,key:n})}))))))},_={cases:{name:"cases",title:"Cases by County",url:'https://data.ca.gov/api/3/action/datastore_search_sql?sql=SELECT * from "926fd08f-cc91-4828-af38-bd45de97f8c3"',thead:"<thead><tr><th>Date</th><th>New<br />Cases</th><th>New<br />Deaths</th><th>Total<br />Cases</th><th>Total<br />Deaths</th>\n    </tr></thead>"},hospitalizations:{name:"hospitalizations",title:"Hospitalizations",url:'https://data.ca.gov/api/3/action/datastore_search_sql?sql=SELECT * from "42d33765-20fd-44b8-a978-b083b7542225"',thead:"<thead><tr><th>Date</th><th>Confirmed<br />Patients</th><th>Suspected<br />Patients</th><th>Total<br />Patients</th><th>All<br />Beds</th><th>ICU<br />Confirmed<br />Patients</th><th>ICU<br />Suspected<br />Patients</th><th>ICU<br />Avail<br />Beds</th></tr></thead>"},homeless:{name:"homeless",title:"Homeless Impact",url:'https://data.ca.gov/api/3/action/datastore_search_sql?sql=SELECT * from "235466b6-0eb9-4ff7-a4b4-8138f474ce83"',thead:"<thead><tr><th>Date</th><th>Rooms</th><th>Rooms<br />Occupied</th><th>Trailers<br />Requested</th><th>Trailers<br />Delivered</th><th>Donated<br />Trailers<br />Delivered</th>\n    </tr></thead>"},surgeFac:{name:"surgeFac",title:"Medical Surge Facilities",url:'https://data.ca.gov/api/3/action/datastore_search_sql?sql=SELECT * from "ef6675e7-cd3a-4762-ba75-2ef78d6dc334"',thead:"<thead><tr><th>Date</th><th>Type of<br />Facility</th><th>Status</th><th>Beds Ready<br />for Patients</th><th>Patients<br />in Beds</th><th>Beds in<br />Warm Status</th>\n    </tr></thead>"}},v=Object(l.memo)(function(e){var t=e.setTooltipContent,a=Object(l.useState)(_.cases),o=Object(n.a)(a,2),c=o[0],s=o[1],u=Object(l.useState)(null),d=Object(n.a)(u,2),h=d[0],m=d[1];return r.a.createElement(r.a.Fragment,null,console.log(h),r.a.createElement("div",{class:"button-row"},r.a.createElement("div",{class:"button",onClick:function(){m(null),s(_.cases)}},"Cases"),r.a.createElement("div",{class:"button",onClick:function(){m(null),s(_.hospitalizations)}},"Hospitalizations"),r.a.createElement("div",{class:"button",onClick:function(){m(null),s(_.homeless)}},"Homeless"),r.a.createElement("div",{class:"button",onClick:function(){m(null),s(_.surgeFac)}},"Medical Surge Facilities")),r.a.createElement("h2",null,"COVID-19 ",c.title),r.a.createElement("p",{style:{fontSize:".7rem"}},"Click county for stats"),r.a.createElement("div",{className:"map"},r.a.createElement(i.ComposableMap,{"data-tip":"",projection:"geoAzimuthalEqualArea",projectionConfig:{rotate:[122,-30,0],scale:1200},width:400,height:500,style:{width:"auto",height:"50%"}},r.a.createElement(i.Geographies,{geography:"https://raw.githubusercontent.com/deldersveld/topojson/master/countries/us-states/CA-06-california-counties.json"},function(e){return e.geographies.map(function(e){return r.a.createElement(i.Geography,{key:e.rsmKey,geography:e,fill:"#D6D6DA",stroke:"#FFF",strokeWidth:".5px",onMouseEnter:function(){var a=e.properties.NAME;t("".concat(a))},onMouseLeave:function(){t("")},onClick:function(){return function(e){var t="".concat(c.url,' WHERE "county" LIKE \'').concat(e,"%'");console.log("url: ",t),fetch(t).then(function(e){return e.json()}).then(function(t){var a=t.result.records.sort(function(e,t){return t.date>e.date?1:e.date>t.date?1:0});m({county:e,records:a})})}(e.properties.NAME)},style:{default:{fill:"#D6D6DA",outline:"none"},hover:{fill:"#776274",outline:"none"},pressed:{fill:"#5a5353",outline:"none"}}})})}))),r.a.createElement(b,{chart:c,countyInfo:h}))});function y(){var e=Object(l.useState)(""),t=Object(n.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement(v,{setTooltipContent:o}),r.a.createElement(s.a,null,a))}var g=document.getElementById("root");c.a.render(r.a.createElement(y,null),g)}},[[31,1,2]]]);
//# sourceMappingURL=main.be75543c.chunk.js.map